<div class="col-10 order-md-1 m-auto">
  <div class="row">
    <div class="col-12" [ngClass]="{ 'col-md-5 col-xl-7': tvShowId }">
      <h4 class="mb-3" *ngIf="tvShowId">Edit TV Show</h4>
      <h4 class="mb-3" *ngIf="!tvShowId">Add TV Show</h4>
    </div>
    <div class="col-12 col-md-7 col-xl-5 text-md-right" *ngIf="tvShowId">
      <div class="btn-group" *ngIf="seasons.length">
        <button
            type="button"
            class="btn btn-info dropdown-toggle"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false">
          Edit seasons
        </button>
        <div class="dropdown-menu">
          <a class="dropdown-item"
             *ngFor="let season of seasons"
             [routerLink]="['../season/', season.id, 'edit']">{{season.number}}</a>
        </div>
      </div>
      <a class="btn btn-success"
         [routerLink]="['../season/new']"
         [queryParams]="{ number: seasons.length + 1 }"
         role="button">Add season</a>
      <button class="btn btn-dark"
              (click)="onDelete()"
              title="Delete this TV show">
        <i class="fa fa-trash-o" aria-hidden="true"></i>
      </button>
    </div>
  </div>
  <hr class="mb-4" />
  <form [formGroup]="tvShowForm" class="needs-validation mb-3" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-8">
        <div class="row">
          <div class="col-md-8 mb-3">
            <label for="title">Title</label>
            <input
                type="text"
                id="title"
                class="form-control"
                formControlName="title"
                placeholder="Enter title here" />
            <div class="invalid-feedback">
              Please enter a title!
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <label for="year">Duration</label>
            <input
                type="text"
                id="year"
                formControlName="year"
                class="form-control" />
            <div class="invalid-feedback">
              Please enter a valid year!
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8 mb-3">
            <label for="poster">Poster URL</label>
            <input
                type="text"
                id="poster"
                formControlName="poster"
                class="form-control"
                placeholder="Poster URL"
                #posterImagePath/>
          </div>
          <div class="col-md-4 mb-3">
            <label for="releaseDate">Release date</label>
            <input
                id="releaseDate"
                type="date"
                formControlName="releaseDate"
                class="form-control"/>
            <div class="invalid-feedback">
              Please enter a release date!
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8 mb-3">
            <label for="genre">Genre</label>
            <input
                type="text"
                id="genre"
                formControlName="genre"
                class="form-control"
                placeholder="Enter genre" />
            <div class="invalid-feedback">
              Please specify show genre!
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <label for="runtime">Runtime</label>
            <input
                type="text"
                formControlName="runtime"
                id="runtime"
                class="form-control"
                placeholder="Runtime" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-8 mb-3">
            <label for="logo">Logo URL</label>
            <input
                type="text"
                id="logo"
                formControlName="logo"
                class="form-control"
                placeholder="Logo URL"
                #logoImage />
          </div>
          <div class="col-md-4 mb-3">
            <label for="status">Status</label>
            <select
                class="custom-select d-block w-100"
                id="status"
                formControlName="status">
              <option value="unknown">Choose...</option>
              <option value="renewed">Renewed</option>
              <option value="onAir">Now on</option>
              <option value="canceled">Cancelled</option>
              <option value="finished">Finished</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="trailer">Trailer ID</label>
              <input
                  type="text"
                  formControlName="trailer"
                  id="trailer"
                  class="form-control"
                  placeholder="YouTube video ID" />
            </div>
          </div>
          <div class="col-md-6">
            <label for="logo-image">Logo preview:</label>
            <img
                id="logo-image"
                [src]="logoImage.value"
                alt="Logo"
                class="img-fluid" />
          </div>
        </div>
      </div>
      <div class="col-md-4 text-center">
        <label for="poster-image" class="d-block">Poster preview:</label>
        <img
            id="poster-image"
            [src]="posterImagePath.value"
            alt="Poster"
            class="img-fluid" />
      </div>
    </div>
    <div class="mb-3">
      <label for="plot">Plot</label>
      <textarea
          formControlName="plot"
          id="plot"
          class="form-control"
          rows="5"></textarea>
      <div class="invalid-feedback">
        Please enter the show's plot!
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 mb-3">
        <label for="language">Language</label>
        <input
            type="text"
            id="language"
            formControlName="language"
            class="form-control"
            placeholder="Language" />
      </div>
      <div class="col-md-3 mb-3">
        <label for="country">Country</label>
        <input
            type="text"
            id="country"
            formControlName="country"
            class="form-control"
            placeholder="Country" />
      </div>
      <div class="col-md-3 mb-3">
        <label for="imdbId">IMDB ID</label>
        <input
            type="text"
            id="imdbId"
            formControlName="imdbId"
            class="form-control"
            placeholder="IMDB ID" />
      </div>
      <div class="col-md-2 mb-3">
        <label for="imdbRating">IMDB Rating</label>
        <input
            type="text"
            id="imdbRating"
            formControlName="imdbRating"
            class="form-control"
            placeholder="Rating" />
      </div>
    </div>
    <div class="mb-3">
      <label for="awards">Awards</label>
      <textarea
          formControlName="awards"
          id="awards"
          class="form-control"
          rows="2"></textarea>
    </div>
    <hr class="mb-4">
    <button class="btn btn-primary btn-lg btn-block" type="submit">Save changes</button>
  </form>
</div>