<div class="single-watched-show" *ngIf="show">
  <div class="main-information pull-left">
    <app-show-status [status]="show.status"></app-show-status>
    <div class="current-show-logo pull-left">
      <a class="show-logo-container">
        <img
            class="logo-image"
            [src]="show.logo"
            [alt]="show.title" />
      </a>
    </div>
  </div>
  <div class="shows-divider d-md-none">
    <button class="more-information-button d-none"><i class="fa fa-chevron-down" aria-hidden="true"></i></button>
    <button class="more-information-button d-none"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  </div>
  <div class="more-information-container text-center d-flex">
    <div class="show-progress col-6">
      <div class="progress-title">Current progress</div>
      <div class="progress-data">
        <span>Season: </span>
        <span *ngIf="!isEditActive">{{selectedSeason || show.seasonNumber}}</span>
        <select
            name="seasonNumber"
            *ngIf="isEditActive"
            (change)="onSeasonChange(+$event.target.value)"
            [value]="selectedSeason">
          <option
              *ngFor="let seasonNumber of seasons"
              [value]="seasonNumber">{{seasonNumber}}
          </option>
        </select>
      </div>
      <div class="progress-data">
        <span>Episode: </span>
        <span *ngIf="!isEditActive">{{selectedEpisode || show.episodeNumber}}</span>
        <select
            name="episodeNumber"
            *ngIf="isEditActive"
            (change)="onEpisodeChange(+$event.target.value)"
            [value]="selectedEpisode">
          <option
              *ngFor="let episodeNumber of episodes"
              [value]="episodeNumber">{{episodeNumber}}
          </option>
        </select>
      </div>
    </div>
    <div class="show-progress col-xs-6 col-sm-6">
      <div class="progress-title">
        <span>Latest episode</span>
      </div>
      <div class="progress-data">
        <span>Season: </span>
        <span>{{show.seasons.length}}</span>
      </div>
      <div class="progress-data">
        <span>Episode: </span>
        <span>{{show.seasons[show.seasons.length - 1].episodes}}</span>
      </div>
    </div>
  </div>
  <div class="actions-container text-center">
    <button
        class="action-button"
        [disabled]="isLatestReached"
        (click)="moveCurrentProgressToNextEpisode()">
      Switch to next episode <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </button>
    <button class="action-button" (click)="openEditProgress()" *ngIf="!isEditActive">
      Change your progress <i class="fa fa-cog" aria-hidden="true"></i></button>
    <div class="edit-buttons-wrapper d-inline-flex" *ngIf="isEditActive">
      <div class="col-4">
        <button
            (click)="saveSelectedData()"
            class="action-button">Save</button>
      </div>
      <div class="col-4">
        <button
            (click)="initSelectedData()"
            class="action-button">Reset</button>
      </div>
      <div class="col-4">
        <button
            (click)="closeEditProgress()"
            class="action-button">Cancel</button>
      </div>
    </div>
  </div>
</div>